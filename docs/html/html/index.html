<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>EIL Unified Client Agent: EIL Unified Client Agent Documentation</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="intel_logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">EIL Unified Client Agent
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">EIL Unified Client Agent Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li><a href="#intro">Introduction</a></li>
<li><a href="#devenv">Development Environment</a><ul>
<li><a href="#hg">Mercurial</a><ul>
<li><a href="#branches">Branches, tags and naming conventions</a></li>
</ul>
</li>
<li><a href="#python">Python considerations</a><ul>
<li><a href="#virtualenv">virtualenv development</a></li>
</ul>
</li>
<li><a href="#linuxdev">Linux development</a><ul>
<li><a href="#chroot">Using the build chroot script</a></li>
<li><a href="#setupenv">Using the setup environment scripts</a></li>
<li><a href="#chw">Using the chroot wrap script</a></li>
</ul>
</li>
<li><a href="#windev">Windows development</a></li>
</ul>
</li>
<li><a href="#design">Design Choices and Development Overview</a><ul>
<li><a href="#apilinks">API Documentation</a></li>
</ul>
</li>
<li><a href="#install">Installation</a></li>
</ul>
<p>Documentation authors: <em>Sam Hart, Stewart Dale, Rich Chauvet</em> <hr/>
<h2><a class="anchor" id="intro"></a>
Introduction                                                    </h2>
<p>This is the documentation for the EIL Unified Client Agent (UCA). The Unified Client Agent is a cross-platform application which currently runs under Windows and a variety of Linux distributions to provide interaction with the central EIL Portal through a system known as "CCMS" or "RMS". The Unified Agent has the following features:</p>
<ul>
<li>Performs post-provisioning setup and configuration.</li>
<li>Accepts and executes commands sent from Portal through CCMS.</li>
<li>Manages platform-specific utilities and features associated with the Portal.</li>
</ul>
<h3><a class="anchor" id="history"></a>
Project History</h3>
<p>Originally the EIL project had two client agents, one for Linux and one for Windows. The Windows client came first and was written as a monolithic C# service which utilized a variety of external BATCH and VB scripts. The Linux client came later and featured a modular design separating the core CCMS interaction functionality from the platform-specific command implimentations (here, "platform-specific" refers to isolated distribution code). The Linux client's core was written in C/C++ and the command implimentations were in shell, sed, awk, and Python scripts.</p>
<p>Having two agents made maintaining and improving them more difficult, and it had long been a desired goal to unify them. However platform limitations prevented each agent from being successfully ported to the other platform.</p>
<p>In September 2011, plans were formed to create a new Unified Agent which could be platform agnostic. After researching options, it was decided that writing this Unified Agent in Python and heavily reusing platform-specific code from the previous agents made the most sense, and in November 2011 work began. The first production release of the Unified Client Agent was on March 28, 2012.</p>
<h2><a class="anchor" id="devenv"></a>
Development Environment                                         </h2>
<p>The Unified Agent is not developed in any specific IDE. It is meant to be developed in whatever editor environment a developer wishes to use. The only requirement is that any cruft-files which an editor or IDE produces which are not necessary for the project should not be tracked in the repository, and, in fact, should be added to the ignore file (for example, if someone wishes to use VisualStudio under Windows, then the project files should probably not be tracked).</p>
<h3><a class="anchor" id="hg"></a>
Mercurial (Source Code Management and Version Control)</h3>
<p>Mercurial (hg) was chosen as the distributed version control system (DVCS) because of its cross-platform nature and ease of use. It should be available on your development platform of choice, but can also be found online at its homepage here:</p>
<ul>
<li><a href="http://mercurial.selenic.com/">http://mercurial.selenic.com/</a></li>
</ul>
<p>If you are new to hg, then you should probably familiarize yourself with the guides and tutorials available on the following pages:</p>
<ul>
<li><a href="http://mercurial.selenic.com/guide/">http://mercurial.selenic.com/guide/</a></li>
<li><a href="http://mercurial.selenic.com/wiki/Tutorial">http://mercurial.selenic.com/wiki/Tutorial</a></li>
<li><a href="http://hgbook.red-bean.com/read/">http://hgbook.red-bean.com/read/</a></li>
</ul>
<h4><a class="anchor" id="branches"></a>
Branches, tags and naming conventions</h4>
<p>Inside of our Mercurial repository, we will adhere to the following naming conventions:</p>
<ul>
<li>Tagging - Tags will be used for major releases and will be the same as the version</li>
</ul>
<ul>
<li>Branches - Branches will be used for experimental and/or disruptive changes that might break the code. The general branch "bigdev" is used for any large and disruptive changes and can be re-used, provided no active development is currently going on in it.</li>
</ul>
<h3><a class="anchor" id="python"></a>
Python considerations</h3>
<p>The Unified Agent was developed against Python 2.x with Python 2.5 being the minimum version required. The Unified Agent currently has not been tested against Python 3.x, and it is safe to assume it will not run correctly there.</p>
<h4><a class="anchor" id="virtualenv"></a>
virtualenv development</h4>
<p>It's generally a good idea to isolate the development environment. One possible tool to help isolate it is the <a href="http://www.virtualenv.org/en/latest/index.html">virtualenv</a> tool. See the documentation on the virtualenv website for setting up your Virtual Python Development Environment.</p>
<p>virtualenv can be used under both Windows and Linux to isolate development.</p>
<h3><a class="anchor" id="linuxdev"></a>
Linux development</h3>
<p>Under Linux you can either use virtualenv to isolate your development environment, or you can use the classic Unix chroot. If you choose to use chroot, there are scripts and tools available inside the Unified Agent repository to help set up and maintain your chroot development environment. These tools are holdovers from the old Linux Client Agent, but they are still valid and useful for the Unified Agent.</p>
<p>All of these tools can be found in the Linux subdirectory of the platform- specific code.</p>
<h4><a class="anchor" id="chroot"></a>
Using the build chroot script</h4>
<p>Included in the repository is a script which will set up a chroot build and development environment in either a Debian/Ubuntu install, a Red Hat derived install (such as CentOS, RHEL, or Fedora), or an openSUSE/SLES install. The script's name is "build_chroot.sh", and takes a single parameter specifying the path to the chroot to build, e.g.: </p>
<div class="fragment"><pre class="fragment">    # ./build_chroot.sh /path/to/work/chroots/lucid-buildenv</pre></div><p> If you are running on a Debian-derived system, the "build_chroot.sh" script can take a second, optional parameter telling the bootstrapper which distribution to use. This is helpful if you wish a newer distribution than "Ubuntu Lucid", which is the default. </p>
<div class="fragment"><pre class="fragment">    # ./build_chroot.sh /path/to/work/chroots/lucid-buildenv testing</pre></div><p> If you are running on a Red Hat derived system, the "build_chroot.sh" script requires that the path to the chroot is an absolute path. This is a yum requirement, and out of our hands.</p>
<h4><a class="anchor" id="setupenv"></a>
Using the setup environment scripts</h4>
<p>Included in the build_env directory are several scripts for setting up development environments on various Linux platforms. These scripts are named: </p>
<div class="fragment"><pre class="fragment">    DISTRO_setup_env.sh</pre></div><p> where "DISTRO" is the distribution the script supports. The build chroot script above calls these setup environment scripts after it has built a development chroot, but these scripts can be executed manually as well.</p>
<p>These scripts must be run as root, and must be run on the appropriate platform they are designed for. Running on another system will have undefined results.</p>
<p>The scripts are not entirely automated, and will require some user intervention during key moments. It is recommended that you read the instructions carefully.</p>
<h4><a class="anchor" id="chw"></a>
Using the chroot wrap script</h4>
<p>Maintaining and changing into your chroot build environment can be tedious, especially if you are working from a laptop or an otherwise isolated development environment. Thus, the 'chw.sh' script was created to automate some of the tasks which can be tricky to remember when working with chroots.</p>
<p>This script must be run as root and takes a single argument- the path to a previously set up chroot build environment (see section above). Once completed, you will be left inside the chroot environment ready to work. </p>
<div class="fragment"><pre class="fragment">    host-env ~/work/path/# ./chw.sh /home/sam/work/intel/chroots/testing
    ... (script runs)
    chroot-env /# _
    ... (everything is now in the chroot)</pre></div> <h3><a class="anchor" id="windev"></a>
Windows development</h3>
<p>Under Windows, there really are a lot fewer tools and requirements. It is highly recommended that Windows developers read the virtualenv section above, as virtualenv is the only tool available for isolating your development environment in Windows (other than running a Windows virtual machine, obviously).</p>
<p>On Windows, you will need to have <a href="http://www.activestate.com/activepython">ActivePython</a> installed and setup for your virtualenv. It is recommended that you use the 2.7 version of ActivePython.</p>
<p>Other tools and items that are suggested, but not required, include:</p>
<ul>
<li><a href="http://notepad-plus-plus.org/">http://notepad-plus-plus.org/</a></li>
<li><a href="http://tortoisehg.bitbucket.org/">http://tortoisehg.bitbucket.org/</a></li>
<li><a href="http://sourceforge.net/projects/pywin32/">http://sourceforge.net/projects/pywin32/</a></li>
</ul>
<h2><a class="anchor" id="design"></a>
Design Choices and Development Overview                         </h2>
<p>The main documentation for the development overview can be found in the section (<a class="el" href="devdoc.html">Development Overview</a>) or in the file "DEVELOPMENT.md".</p>
<h3><a class="anchor" id="apilinks"></a>
API Documentation</h3>
<p>The following can be thought of as a ordered overview of the project from an API perspective. It is not intended to be complete- for the full listing, see the full generated doxygen documentation, see also <a href="namespaces.html">packages</a>.</p>
<ul>
<li>Unified Client Agent<ul>
<li><a class="el" href="classclientagent_1_1ClientAgentState.html">clientagent.ClientAgentState</a><ul>
<li><a class="el" href="utility_8py.html">utility.py</a></li>
</ul>
</li>
<li><a class="el" href="classclientagent_1_1steward_1_1libdaemon_1_1unix__daemon_1_1Daemon.html">clientagent.steward.libdaemon.unix_daemon.Daemon</a><ul>
<li><a class="el" href="classclientagent_1_1steward_1_1libdaemon_1_1windows__service_1_1Service.html">clientagent.steward.libdaemon.windows_service.Service</a></li>
<li><a class="el" href="classclientagent_1_1steward_1_1libdaemon_1_1unix__daemon_1_1Daemon.html">clientagent.steward.libdaemon.unix_daemon.Daemon</a></li>
</ul>
</li>
<li><a class="el" href="classeil__steward_1_1StewardHandler.html">eil_steward.StewardHandler</a><ul>
<li><a class="el" href="classclientagent_1_1steward_1_1ccmsupdate_1_1CCMS__Update.html">clientagent.steward.ccmsupdate.CCMS_Update</a></li>
<li><a class="el" href="namespaceclientagent_1_1steward_1_1commandhandler.html">clientagent.steward.commandhandler</a></li>
<li><a class="el" href="classclientagent_1_1steward_1_1asset_1_1EILAsset.html">clientagent.steward.asset.EILAsset</a><ul>
<li><a class="el" href="classclientagent_1_1steward_1_1linux__asset_1_1Linux__Asset.html">clientagent.steward.linux_asset.Linux_Asset</a></li>
<li><a class="el" href="classclientagent_1_1steward_1_1win32__asset_1_1Win32__Asset.html">clientagent.steward.win32_asset.Win32_Asset</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="classclientagent_1_1dispatcher_1_1Dispatcher.html">clientagent.dispatcher.Dispatcher</a><ul>
<li><a class="el" href="namespaceclientagent_1_1dispatcher__helper.html">clientagent.dispatcher_helper</a></li>
</ul>
</li>
</ul>
</li>
<li>Platform Specific Code<ul>
<li>Windows</li>
<li>Linux<ul>
<li>NMSA/LAF<ul>
<li><a class="el" href="classnmsa__main_1_1NMSA__Master.html">nmsa_main.NMSA_Master</a></li>
<li><a class="el" href="namespacenmsa__handler.html">nmsa_handler</a></li>
<li><a class="el" href="namespacenmsa__conf.html">nmsa_conf</a></li>
<li><a class="el" href="classnmsa__daemon_1_1Daemon.html">nmsa_daemon.Daemon</a></li>
</ul>
</li>
<li>Dispatcher<ul>
<li><a class="el" href="shellapi.html">Shell API</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="install"></a>
Installation                                                    </h2>
<p>The documentation describing the installation procedures and software can be found in the section (<a class="el" href="installdoc.html">Installation Overview</a>) or in the file "INSTALL.md". </p>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 23 2012 15:52:09 for EIL Unified Client Agent by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
